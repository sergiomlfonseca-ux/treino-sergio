<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Treino Sérgio </title>
    
    <!-- React & Tailwind -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        body { background-color: #020617; }
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ÍCONES ---
        const Icons = {
            Dumbbell: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6.5 6.5 11 11"/><path d="m21 21-1-1"/><path d="m3 3 1 1"/><path d="m18 22 4-4"/><path d="m2 6 4-4"/><path d="m3 10 7.9-7.9a2.12 2.12 0 0 1 3 3L6 12.9a2.12 2.12 0 0 1-3-3Z"/><path d="m11.1 13.9 7.9-7.9a2.12 2.12 0 0 1 3 3L14.1 16.9a2.12 2.12 0 0 1-3-3Z"/></svg>,
            Flame: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>,
            Activity: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
            Biceps: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12.409 13.017A5 5 0 0 1 22 15.5v6a2.5 2.5 0 0 1-5 0v-1.5"/><path d="M2 12.5a5 5 0 0 1 6.556-3.753"/><path d="M12.28 12.873a5 5 0 0 1-2.915-7.798"/><path d="M11 20.5v-6"/><path d="M17 21h-2"/><path d="M2 16h6"/><path d="M7 16v-4"/><path d="M7 12a4 4 0 0 1 3-3.907"/></svg>,
            ChevronDown: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>,
            ChevronUp: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m18 15-6-6-6 6"/></svg>,
            Play: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>,
            Check: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"/></svg>,
            Refresh: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 21h5v-5"/></svg>,
            Clock: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Save: (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
        };

        // --- DADOS DO TREINO ---
        const workoutData = {
          fullbody: {
            title: "Módulo 1: Fullbody Circuito",
            subtitle: "2 Rondas Completas | Descanso só no fim da volta",
            color: "from-orange-500 to-red-600",
            icon: Icons.Flame,
            exercises: [
              { id: "fb1", name: "Elíptica", reps: "5 Min", setCount: 1, rest: 0, equipment: "Máquina Eliptica", video: "technogym elliptical technique", alt: "Remo ou Passadeira" },
              { id: "fb2", name: "Air Squat c/ Kettlebell", reps: "20", setCount: 2, rest: 0, equipment: "Kettlebell", video: "air squat kettlebell", alt: "Agachamento com Disco ou Halter" },
              { id: "fb3", name: "Sit Ups", reps: "30", setCount: 2, rest: 0, equipment: "Colchão", video: "sit ups crossfit", alt: "Crunch em Máquina ou Prancha (45s)" },
              { id: "fb4", name: "Lunge c/ Rotação", reps: "10+10", setCount: 2, rest: 0, equipment: "Haltere ou Kettlebell", video: "lunge with twist", alt: "Lunge estático sem peso" },
              { id: "fb5", name: "Burpees c/ Push-up", reps: "12", setCount: 2, rest: 0, equipment: "Colchão", video: "burpee push up", alt: "Sprawls (Burpee sem flexão) ou Mountain Climbers" },
              { id: "fb6", name: "Plank Jack", reps: "20", setCount: 2, rest: 0, equipment: "Colchão", video: "plank jack exercise", alt: "Jumping Jacks (30 reps)" },
              { id: "fb7", name: "Elíptica (Fim da Volta)", reps: "5 Min", setCount: 2, rest: 120, equipment: "Máquina Eliptica", video: "elliptical cool down", alt: "Caminhada Inclinada" }
            ]
          },
          lower: {
            title: "Módulo 2: Membros Inferiores",
            subtitle: "Foco em Hipertrofia | Descanso: 60-90s",
            color: "from-blue-500 to-indigo-600",
            icon: Icons.Activity,
            exercises: [
              { id: "leg1", name: "Agachamento Livre", reps: "15-12-12-10", setCount: 4, rest: 90, tips: "Carga ajustavel para progressão série após série", equipment: "Barra Olímpica", video: "barbell back squat", alt: "Agachamento Smith Machine ou Goblet Squat Pesado" },
              { id: "leg2", name: "Leg Press 45º", reps: "12", setCount: 3, rest: 60, tips: "Carga Considerável para as 3 séries", equipment: "Leg Press pesos livres", video: "leg press 45 technique", alt: "Hack Squat ou Leg Press Horizontal" },
              { id: "leg3", name: "Bulgarian Split Squat", reps: "10/perna", setCount: 3, rest: 60, equipment: "Halteres + Banco", video: "bulgarian split squat", alt: "Afundos (Walking Lunges) ou Step Ups" },
              { id: "leg4", name: "Leg Curl", reps: "15-12-12-10", setCount: 4, rest: 60, tips: "Carga ajustavel para progressão série após série", equipment: "Máquina Leg Curl", video: "leg curl machine", alt: "Cadeira Flexora ou Leg Curl com Bola Suiça" },
              { id: "leg5", name: "Leg Extension", reps: "15-12-12-12", setCount: 4, rest: 60, tips: "Carga ajustavel para progressão série após série", equipment: "Máquina Leg Extension", video: "leg extension machine", alt: "Agachamento Sissy ou com elástico" }
            ]
          },
          upper: {
            title: "Módulo 3: Membros Superiores",
            subtitle: "Super Séries + Acessórios | Descanso: 60s",
            color: "from-emerald-500 to-teal-600",
            icon: Icons.Biceps,
            exercises: [
              { id: "up1", name: "SS1: Low Row + Plank Row", isSuperSet: true, setCount: 3, rest: 90, 
                subExercises: [
                  { idSuffix: "A", name: "A: Low Row", reps: "12+10+10", tips: "Carga ajustavel para progressão série após série", equipment: "Máquina Low Row" },
                  { idSuffix: "B", name: "B: Lateral Plank Row", reps: "10/lado", tips: "Prancha lateral", equipment: "Elástico laranja/Polia" }
                ],
                video: "low row machine", 
                alt: "A: Remada com Haltere | B: Pallof Press"
              },
              { id: "up2", name: "Lateral Raise", reps: "12", setCount: 3, rest: 60, tips: "Carga Considerável para as 3 séries", equipment: "Halteres", video: "dumbbell lateral raise", alt: "Elevação Lateral na Polia ou Máquina" },
              { id: "up3", name: "SS2: Peck Deck + Flexões", isSuperSet: true, setCount: 3, rest: 90,
                subExercises: [
                  { idSuffix: "A", name: "A: Peck Deck", reps: "12+12+10", tips: "Carga ajustavel para progressão série após série", equipment: "Technogym Peck Deck" },
                  { idSuffix: "B", name: "B: Flexões", reps: "10", tips: "Alternar aberta/fechada", equipment: "Peso do corpo" }
                ],
                video: "peck deck machine",
                alt: "A: Crucifixo com Halteres | B: Press de Peito Máquina"
              },
              { id: "up4", name: "Tríceps à Testa", reps: "10", setCount: 3, rest: 60, equipment: "Barra W", video: "skullcrusher ez bar", alt: "Tríceps Polia (Corda) ou Francês" },
              { id: "up5", name: "Bíceps Martelo", reps: "10", setCount: 3, rest: 60, equipment: "Halteres", video: "hammer curl", alt: "Bíceps Barra W ou Polia Baixa" }
            ]
          }
        };

        const RestTimer = ({ seconds, onComplete }) => {
            const [timeLeft, setTimeLeft] = useState(seconds);
            useEffect(() => {
                if (timeLeft <= 0) { onComplete(); return; }
                const interval = setInterval(() => setTimeLeft(t => t - 1), 1000);
                return () => clearInterval(interval);
            }, [timeLeft]);
            return (
                <div className="flex items-center gap-2 text-orange-400 font-mono bg-orange-400/10 px-3 py-1 rounded-md animate-pulse">
                    <Icons.Clock size={16} />
                    <span className="font-bold">Descanso: {timeLeft}s</span>
                </div>
            );
        };

        const ExerciseCard = ({ exercise, savedSets, onSetChange, loads, onLoadChange }) => {
          const [isExpanded, setIsExpanded] = useState(false);
          const [showAlt, setShowAlt] = useState(false);
          const [activeTimer, setActiveTimer] = useState(false);
          const setsDone = savedSets || 0;

          const handleSetClick = (e, setNum) => {
            e.stopPropagation();
            if (setNum === setsDone + 1) {
              onSetChange(setNum);
              if (setNum < exercise.setCount && exercise.rest > 0) setActiveTimer(true);
            } else if (setNum <= setsDone) {
              onSetChange(setNum - 1);
              setActiveTimer(false);
            }
          };

          const handleTimerComplete = () => setActiveTimer(false);

          const openVideo = (e) => {
            e.stopPropagation();
            window.open(`https://www.youtube.com/results?search_query=${exercise.video}`, '_blank');
          };

          // Renderização das Bolinhas
          const renderSetBubbles = () => (
            <div className="flex gap-2 mt-3">
              {Array.from({ length: exercise.setCount }, (_, i) => i + 1).map(num => (
                  <button key={num} onClick={(e) => handleSetClick(e, num)} className={`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all border-2 ${num <= setsDone ? 'bg-green-600 border-green-600 text-white' : 'bg-transparent border-slate-600 text-slate-500 hover:border-slate-400'}`}>
                      {num <= setsDone ? <Icons.Check size={16} /> : num}
                  </button>
              ))}
            </div>
          );

          // Renderização dos Inputs de Carga
          const renderLoadInputs = (suffix = "") => {
             const keyPrefix = exercise.id + suffix;
             return (
               <div className="mt-3 bg-black/20 p-2 rounded-lg">
                  <p className="text-[10px] text-slate-400 uppercase font-bold mb-2 flex items-center gap-1">
                    <Icons.Save size={10} /> Registo de Cargas (kg)
                  </p>
                  <div className="flex gap-2 overflow-x-auto no-scrollbar">
                    {Array.from({ length: exercise.setCount }, (_, i) => i + 1).map(num => (
                      <div key={num} className="flex-shrink-0">
                         <span className="block text-[9px] text-center text-slate-500 mb-1">Série {num}</span>
                         <input 
                            type="number" 
                            placeholder="kg"
                            className="w-12 h-8 bg-slate-700 rounded text-center text-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"
                            value={loads[`${keyPrefix}-s${num}`] || ''}
                            onChange={(e) => onLoadChange(`${keyPrefix}-s${num}`, e.target.value)}
                            onClick={(e) => e.stopPropagation()}
                         />
                      </div>
                    ))}
                  </div>
               </div>
             );
          };

          if (exercise.isSuperSet) {
            return (
              <div className={`mb-4 rounded-xl border-l-4 border-yellow-400 bg-slate-800 overflow-hidden shadow-lg ${setsDone === exercise.setCount ? 'opacity-60' : ''}`}>
                <div onClick={() => setIsExpanded(!isExpanded)} className="p-4 cursor-pointer">
                  <div className="flex justify-between items-start">
                    <div>
                        <span className="bg-yellow-500/20 text-yellow-300 text-[10px] font-bold px-2 py-0.5 rounded uppercase">Super Série</span>
                        <h3 className="font-bold text-white text-lg mt-1">{exercise.name}</h3>
                    </div>
                    {isExpanded ? <Icons.ChevronUp className="text-slate-400" /> : <Icons.ChevronDown className="text-slate-400" />}
                  </div>
                  
                  {/* Lista de sub-exercícios */}
                  <div className="mt-3 space-y-2">
                    {exercise.subExercises.map((sub, idx) => (
                        <div key={idx} className="bg-slate-900/50 p-2 rounded border border-slate-700/50">
                            <p className="text-slate-200 text-sm font-semibold">{sub.name}</p>
                            <p className="text-slate-500 text-xs mb-1">{sub.reps} • {sub.tips}</p>
                            {/* Inputs de Carga para cada sub-exercício se expandido */}
                            {isExpanded && renderLoadInputs("-" + sub.idSuffix)}
                        </div>
                    ))}
                  </div>

                  <div className="mt-4 flex items-center justify-between">
                     {activeTimer ? <RestTimer seconds={exercise.rest} onComplete={handleTimerComplete} /> : <span className="text-xs text-slate-400 uppercase font-bold">Concluir Rondas:</span>}
                  </div>
                  {renderSetBubbles()}
                  
                  {isExpanded && (
                     <div className="mt-4 pt-4 border-t border-slate-700 grid grid-cols-2 gap-3">
                        <button onClick={openVideo} className="flex items-center justify-center gap-2 bg-red-600/10 text-red-400 py-2 rounded text-sm font-bold"><Icons.Play size={16} /> Vídeo</button>
                        <button onClick={(e) => { e.stopPropagation(); setShowAlt(!showAlt); }} className="flex items-center justify-center gap-2 bg-blue-600/10 text-blue-400 py-2 rounded text-sm font-bold"><Icons.Refresh size={16} /> Alternativa</button>
                     </div>
                  )}
                  {isExpanded && showAlt && <div className="mt-2 p-2 bg-blue-900/20 border border-blue-900/50 rounded text-xs text-blue-200"><strong>Alternativa:</strong> {exercise.alt}</div>}
                </div>
              </div>
            );
          }

          // Normal Exercise
          return (
            <div className={`mb-4 rounded-xl bg-slate-800 overflow-hidden shadow-lg ${setsDone === exercise.setCount ? 'opacity-60' : ''}`}>
              <div onClick={() => setIsExpanded(!isExpanded)} className="p-4 cursor-pointer">
                <div className="flex justify-between items-start">
                    <div className="flex-1">
                        <h3 className="font-bold text-white text-lg">{exercise.name}</h3>
                        <p className="text-slate-400 text-sm">{exercise.reps} • {exercise.equipment}</p>
                    </div>
                    {isExpanded ? <Icons.ChevronUp className="text-slate-400" /> : <Icons.ChevronDown className="text-slate-400" />}
                </div>
                
                {/* Inputs de Carga (Só visível se expandido) */}
                {isExpanded && renderLoadInputs()}

                <div className="mt-4 flex items-center justify-between min-h-[40px]">
                    {activeTimer ? <RestTimer seconds={exercise.rest} onComplete={handleTimerComplete} /> : <div className="text-xs text-slate-500">Toque na série para concluir</div>}
                </div>
                {renderSetBubbles()}
                
                {isExpanded && (
                  <div className="mt-4 pt-4 border-t border-slate-700">
                    <div className="grid grid-cols-2 gap-3">
                        <button onClick={openVideo} className="flex items-center justify-center gap-2 bg-red-600/10 text-red-400 py-2 rounded text-sm font-bold"><Icons.Play size={16} /> Vídeo</button>
                        <button onClick={(e) => { e.stopPropagation(); setShowAlt(!showAlt); }} className="flex items-center justify-center gap-2 bg-blue-600/10 text-blue-400 py-2 rounded text-sm font-bold"><Icons.Refresh size={16} /> Alternativa</button>
                    </div>
                    {showAlt && <div className="mt-3 p-2 bg-blue-900/20 border border-blue-900/50 rounded text-xs text-blue-200"><strong>Alternativa:</strong> {exercise.alt}</div>}
                  </div>
                )}
              </div>
            </div>
          );
        };

        const App = () => {
          const [activeTab, setActiveTab] = useState('fullbody');
          const [progress, setProgress] = useState({});
          const [loads, setLoads] = useState({});

          // Carregar Dados
          useEffect(() => {
            const savedProgress = localStorage.getItem('Sérgio-treino--progress');
            const savedLoads = localStorage.getItem('Sérgio-treino--loads');
            if (savedProgress) setProgress(JSON.parse(savedProgress));
            if (savedLoads) setLoads(JSON.parse(savedLoads));
          }, []);

          // Salvar Dados
          useEffect(() => {
            localStorage.setItem('Sérgio-treino--progress', JSON.stringify(progress));
          }, [progress]);

          useEffect(() => {
            localStorage.setItem('Sérgio-treino--loads', JSON.stringify(loads));
          }, [loads]);

          const updateSet = (exerciseId, count) => {
            setProgress(prev => ({ ...prev, [exerciseId]: count }));
          };

          const updateLoad = (key, value) => {
            setLoads(prev => ({ ...prev, [key]: value }));
          };

          const currentWorkout = workoutData[activeTab];
          const TabIcon = currentWorkout.icon;
          const totalSets = currentWorkout.exercises.reduce((acc, ex) => acc + ex.setCount, 0);
          const completedSets = currentWorkout.exercises.reduce((acc, ex) => acc + (progress[ex.id] || 0), 0);
          const percent = Math.round((completedSets / totalSets) * 100) || 0;

          return (
            <div className="min-h-screen bg-slate-950 text-slate-200 font-sans pb-24 selection:bg-orange-500/30">
              <div className="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-md border-b border-slate-800 shadow-xl">
                <div className="max-w-md mx-auto px-4 py-3 flex justify-between items-center">
                  <div>
                    <h1 className="text-xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500">Sérgio PRO</h1>
                    <p className="text-[10px] text-slate-400 uppercase tracking-widest">Plano de treino</p>
                  </div>
                  <div className="text-right">
                     <span className="text-[10px] font-mono text-slate-500 block mb-1">PROGRESSO</span>
                     <div className="flex items-center gap-2">
                       <div className="w-16 h-1.5 bg-slate-800 rounded-full overflow-hidden">
                         <div className="h-full bg-green-500 transition-all duration-500" style={{ width: `${percent}%` }}></div>
                       </div>
                       <span className="text-xs font-bold text-white">{percent}%</span>
                     </div>
                  </div>
                </div>
                <div className="flex overflow-x-auto no-scrollbar border-t border-slate-800">
                  {Object.keys(workoutData).map(key => (
                      <button key={key} onClick={() => setActiveTab(key)} className={`flex-1 py-3 px-4 text-xs font-bold whitespace-nowrap transition-colors border-b-2 ${activeTab === key ? 'text-white border-orange-500 bg-slate-800' : 'text-slate-500 border-transparent hover:text-slate-300'}`}>
                        {key === 'fullbody' ? 'Fullbody' : key === 'lower' ? 'M. Inferior' : 'M. Superior'}
                      </button>
                  ))}
                </div>
              </div>

              <div className="max-w-md mx-auto p-4">
                <div className={`rounded-2xl p-6 mb-6 bg-gradient-to-br ${currentWorkout.color} shadow-lg text-white relative overflow-hidden`}>
                  <div className="absolute top-0 right-0 p-4 opacity-10"><TabIcon width={100} height={100} /></div>
                  <div className="relative z-10">
                      <div className="flex items-center gap-2 mb-2">
                        <TabIcon size={24} />
                        <span className="bg-black/20 px-2 py-0.5 rounded text-[10px] font-bold uppercase">{currentWorkout.exercises.length} Excs</span>
                      </div>
                      <h2 className="text-2xl font-bold mb-1">{currentWorkout.title}</h2>
                      <p className="text-white/90 text-xs font-medium">{currentWorkout.subtitle}</p>
                  </div>
                </div>
                <div className="space-y-2">
                  {currentWorkout.exercises.map((exercise) => (
                    <ExerciseCard 
                        key={exercise.id} 
                        exercise={exercise} 
                        savedSets={progress[exercise.id]} 
                        onSetChange={(count) => updateSet(exercise.id, count)}
                        loads={loads}
                        onLoadChange={updateLoad}
                    />
                  ))}
                </div>
                <div className="mt-8 text-center">
                    <button 
                        onClick={() => { if(confirm('Isto limpará apenas as bolinhas (conclusão). As cargas serão mantidas. Confirmar?')) setProgress({}); }} 
                        className="px-4 py-2 border border-slate-700 rounded-full text-xs text-slate-400 hover:text-white hover:bg-slate-800 transition-colors"
                    >
                        Reiniciar Treino de Hoje
                    </button>
                </div>
                <div className="h-10"></div>
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>



